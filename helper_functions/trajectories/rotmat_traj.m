function [flats] = rotmat_traj(t)

r = 0;
p = 0;
y = 0;

dr = 0;
dp = 0;
dy = 0.25;

flats.R = [cos(p+dp.*pi.*t).*cos(dy.*pi.*t+y)+(-1).*sin(p+dp.*pi.*t).*sin(r+ ...
  dr.*pi.*t).*sin(dy.*pi.*t+y),(-1).*cos(r+dr.*pi.*t).*sin(dy.*pi.* ...
  t+y),cos(dy.*pi.*t+y).*sin(p+dp.*pi.*t)+cos(p+dp.*pi.*t).*sin(r+ ...
  dr.*pi.*t).*sin(dy.*pi.*t+y);cos(dy.*pi.*t+y).*sin(p+dp.*pi.*t).* ...
  sin(r+dr.*pi.*t)+cos(p+dp.*pi.*t).*sin(dy.*pi.*t+y),cos(r+dr.*pi.* ...
  t).*cos(dy.*pi.*t+y),(-1).*cos(p+dp.*pi.*t).*cos(dy.*pi.*t+y).* ...
  sin(r+dr.*pi.*t)+sin(p+dp.*pi.*t).*sin(dy.*pi.*t+y);(-1).*cos(r+ ...
  dr.*pi.*t).*sin(p+dp.*pi.*t),sin(r+dr.*pi.*t),cos(p+dp.*pi.*t).* ...
  cos(r+dr.*pi.*t)];

flats.dR = [(-1).*dp.*pi.*cos(dy.*pi.*t+y).*sin(p+dp.*pi.*t)+(-1).*dy.*pi.* ...
 cos(dy.*pi.*t+y).*sin(p+dp.*pi.*t).*sin(r+dr.*pi.*t)+(-1).*dy.* ...
 pi.*cos(p+dp.*pi.*t).*sin(dy.*pi.*t+y)+(-1).*dr.*pi.*cos(r+dr.* ...
 pi.*t).*sin(p+dp.*pi.*t).*sin(dy.*pi.*t+y)+(-1).*dp.*pi.*cos(p+ ...
 dp.*pi.*t).*sin(r+dr.*pi.*t).*sin(dy.*pi.*t+y),(-1).*dy.*pi.*cos( ...
  r+dr.*pi.*t).*cos(dy.*pi.*t+y)+dr.*pi.*sin(r+dr.*pi.*t).*sin(dy.* ...
  pi.*t+y),dp.*pi.*cos(p+dp.*pi.*t).*cos(dy.*pi.*t+y)+dy.*pi.*cos(p+ ...
  dp.*pi.*t).*cos(dy.*pi.*t+y).*sin(r+dr.*pi.*t)+dr.*pi.*cos(p+dp.* ...
  pi.*t).*cos(r+dr.*pi.*t).*sin(dy.*pi.*t+y)+(-1).*dy.*pi.*sin(p+ ...
  dp.*pi.*t).*sin(dy.*pi.*t+y)+(-1).*dp.*pi.*sin(p+dp.*pi.*t).*sin( ...
  r+dr.*pi.*t).*sin(dy.*pi.*t+y);dy.*pi.*cos(p+dp.*pi.*t).*cos(dy.* ...
  pi.*t+y)+dr.*pi.*cos(r+dr.*pi.*t).*cos(dy.*pi.*t+y).*sin(p+dp.* ...
  pi.*t)+dp.*pi.*cos(p+dp.*pi.*t).*cos(dy.*pi.*t+y).*sin(r+dr.*pi.* ...
  t)+(-1).*dp.*pi.*sin(p+dp.*pi.*t).*sin(dy.*pi.*t+y)+(-1).*dy.*pi.* ...
  sin(p+dp.*pi.*t).*sin(r+dr.*pi.*t).*sin(dy.*pi.*t+y),(-1).*dr.* ...
  pi.*cos(dy.*pi.*t+y).*sin(r+dr.*pi.*t)+(-1).*dy.*pi.*cos(r+dr.* ...
  pi.*t).*sin(dy.*pi.*t+y),(-1).*dr.*pi.*cos(p+dp.*pi.*t).*cos(r+ ...
  dr.*pi.*t).*cos(dy.*pi.*t+y)+dy.*pi.*cos(dy.*pi.*t+y).*sin(p+dp.* ...
  pi.*t)+dp.*pi.*cos(dy.*pi.*t+y).*sin(p+dp.*pi.*t).*sin(r+dr.*pi.* ...
  t)+dp.*pi.*cos(p+dp.*pi.*t).*sin(dy.*pi.*t+y)+dy.*pi.*cos(p+dp.* ...
  pi.*t).*sin(r+dr.*pi.*t).*sin(dy.*pi.*t+y);(-1).*dp.*pi.*cos(p+ ...
  dp.*pi.*t).*cos(r+dr.*pi.*t)+dr.*pi.*sin(p+dp.*pi.*t).*sin(r+dr.* ...
  pi.*t),dr.*pi.*cos(r+dr.*pi.*t),(-1).*dp.*pi.*cos(r+dr.*pi.*t).* ...
  sin(p+dp.*pi.*t)+(-1).*dr.*pi.*cos(p+dp.*pi.*t).*sin(r+dr.*pi.*t)];
  

flats.d2R = [[(-1).*dp.^2.*pi.^2.*cos(p+dp.*pi.*t).*cos(dy.*pi.*t+y)+(-1).* ...
    dy.^2.*pi.^2.*cos(p+dp.*pi.*t).*cos(dy.*pi.*t+y)+(-2).*dr.*dy.* ...
    pi.^2.*cos(r+dr.*pi.*t).*cos(dy.*pi.*t+y).*sin(p+dp.*pi.*t)+(-2).* ...
  dp.*dy.*pi.^2.*cos(p+dp.*pi.*t).*cos(dy.*pi.*t+y).*sin(r+dr.*pi.* ...
  t)+(-2).*dp.*dr.*pi.^2.*cos(p+dp.*pi.*t).*cos(r+dr.*pi.*t).*sin( ...
  dy.*pi.*t+y)+2.*dp.*dy.*pi.^2.*sin(p+dp.*pi.*t).*sin(dy.*pi.*t+y)+ ...
  dp.^2.*pi.^2.*sin(p+dp.*pi.*t).*sin(r+dr.*pi.*t).*sin(dy.*pi.*t+y)+dr.^2.*pi.^2.*sin(p+dp.*pi.*t).*sin(r+dr.*pi.*t).*sin(dy.*pi.*t+ ...
  y)+dy.^2.*pi.^2.*sin(p+dp.*pi.*t).*sin(r+dr.*pi.*t).*sin(dy.*pi.* ...
  t+y),  2.*dr.*dy.*pi.^2.*cos(dy.*pi.*t+y).*sin(r+dr.*pi.*t)+dr.^2.* ...
  pi.^2.*cos(r+dr.*pi.*t).*sin(dy.*pi.*t+y)+dy.^2.*pi.^2.*cos(r+dr.* ...
  pi.*t).*sin(dy.*pi.*t+y), 2.*dr.*dy.*pi.^2.*cos(p+dp.*pi.*t).*cos( ...
  r+dr.*pi.*t).*cos(dy.*pi.*t+y)+(-1).*dp.^2.*pi.^2.*cos(dy.*pi.*t+ ...
  y).*sin(p+dp.*pi.*t)+(-1).*dy.^2.*pi.^2.*cos(dy.*pi.*t+y).*sin(p+ ...
  dp.*pi.*t)+(-2).*dp.*dy.*pi.^2.*cos(dy.*pi.*t+y).*sin(p+dp.*pi.*t) ...
  .*sin(r+dr.*pi.*t)+(-2).*dp.*dy.*pi.^2.*cos(p+dp.*pi.*t).*sin(dy.* ...
  pi.*t+y)+(-2).*dp.*dr.*pi.^2.*cos(r+dr.*pi.*t).*sin(p+dp.*pi.*t).* ...
  sin(dy.*pi.*t+y)+(-1).*dp.^2.*pi.^2.*cos(p+dp.*pi.*t).*sin(r+dr.* ...
  pi.*t).*sin(dy.*pi.*t+y)+(-1).*dr.^2.*pi.^2.*cos(p+dp.*pi.*t).* ...
  sin(r+dr.*pi.*t).*sin(dy.*pi.*t+y)+(-1).*dy.^2.*pi.^2.*cos(p+dp.* ...
  pi.*t).*sin(r+dr.*pi.*t).*sin(dy.*pi.*t+y)];
[2.*dp.*dr.*pi.^2.*cos(p+dp.*pi.*t).*cos(r+dr.*pi.*t).*cos(dy.*pi.*t+y)+(-2).*dp.*dy.* ...
  pi.^2.*cos(dy.*pi.*t+y).*sin(p+dp.*pi.*t)+(-1).*dp.^2.*pi.^2.*cos( ...
  dy.*pi.*t+y).*sin(p+dp.*pi.*t).*sin(r+dr.*pi.*t)+(-1).*dr.^2.* ...
 pi.^2.*cos(dy.*pi.*t+y).*sin(p+dp.*pi.*t).*sin(r+dr.*pi.*t)+(-1).* ...
  dy.^2.*pi.^2.*cos(dy.*pi.*t+y).*sin(p+dp.*pi.*t).*sin(r+dr.*pi.*t)+(-1).*dp.^2.*pi.^2.*cos(p+dp.*pi.*t).*sin(dy.*pi.*t+y)+(-1).* ...
 dy.^2.*pi.^2.*cos(p+dp.*pi.*t).*sin(dy.*pi.*t+y)+(-2).*dr.*dy.* ...
 pi.^2.*cos(r+dr.*pi.*t).*sin(p+dp.*pi.*t).*sin(dy.*pi.*t+y)+(-2).* ...
  dp.*dy.*pi.^2.*cos(p+dp.*pi.*t).*sin(r+dr.*pi.*t).*sin(dy.*pi.*t+ ...
  y),(-1).*dr.^2.*pi.^2.*cos(r+dr.*pi.*t).*cos(dy.*pi.*t+y)+(-1).* ...
  dy.^2.*pi.^2.*cos(r+dr.*pi.*t).*cos(dy.*pi.*t+y)+2.*dr.*dy.* ...
  pi.^2.*sin(r+dr.*pi.*t).*sin(dy.*pi.*t+y),2.*dp.*dy.*pi.^2.*cos(p+ ...
  dp.*pi.*t).*cos(dy.*pi.*t+y)+2.*dp.*dr.*pi.^2.*cos(r+dr.*pi.*t).* ...
  cos(dy.*pi.*t+y).*sin(p+dp.*pi.*t)+dp.^2.*pi.^2.*cos(p+dp.*pi.*t) ...
  .*cos(dy.*pi.*t+y).*sin(r+dr.*pi.*t)+dr.^2.*pi.^2.*cos(p+dp.*pi.* ...
  t).*cos(dy.*pi.*t+y).*sin(r+dr.*pi.*t)+dy.^2.*pi.^2.*cos(p+dp.* ...
  pi.*t).*cos(dy.*pi.*t+y).*sin(r+dr.*pi.*t)+2.*dr.*dy.*pi.^2.*cos( ...
  p+dp.*pi.*t).*cos(r+dr.*pi.*t).*sin(dy.*pi.*t+y)+(-1).*dp.^2.* ...
 pi.^2.*sin(p+dp.*pi.*t).*sin(dy.*pi.*t+y)+(-1).*dy.^2.*pi.^2.*sin( ...
  p+dp.*pi.*t).*sin(dy.*pi.*t+y)+(-2).*dp.*dy.*pi.^2.*sin(p+dp.*pi.* ...
  t).*sin(r+dr.*pi.*t).*sin(dy.*pi.*t+y)];
[dp.^2.*pi.^2.*cos(r+dr.* ...
  pi.*t).*sin(p+dp.*pi.*t)+dr.^2.*pi.^2.*cos(r+dr.*pi.*t).*sin(p+ ...
  dp.*pi.*t)+2.*dp.*dr.*pi.^2.*cos(p+dp.*pi.*t).*sin(r+dr.*pi.*t),( ...
  -1).*dr.^2.*pi.^2.*sin(r+dr.*pi.*t),(-1).*dp.^2.*pi.^2.*cos(p+dp.* ...
  pi.*t).*cos(r+dr.*pi.*t)+(-1).*dr.^2.*pi.^2.*cos(p+dp.*pi.*t).* ...
  cos(r+dr.*pi.*t)+2.*dp.*dr.*pi.^2.*sin(p+dp.*pi.*t).*sin(r+dr.* ...
  pi.*t)]];


end
